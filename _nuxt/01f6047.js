(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{873:function(e,r,t){"use strict";var n=t(75);t.d(r,"a",(function(){return n.b})),t.d(r,"b",(function(){return n.d}))},875:function(e,r,t){"use strict";t.r(r);t(62),t(48),t(57),t(31),t(76),t(53),t(77);var n=t(37),o=t(22),c=(t(97),t(95)),d=t(873);function l(object,e){var r=Object.keys(object);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(object);e&&(t=t.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),r.push.apply(r,t)}return r}var v={name:"Register",data:function(){return{valid:!1,isSending:!1,isDone:!1,errorMsg:"",ENDPOINT:d.a}},fetch:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function r(){var t,n,o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.$route.query.token,e.token=t,r.prev=2,r.next=5,e.$axios.get("/api/token",{params:{token:t,address:e.walletAddress}});case 5:n=r.sent,o=n.data.valid,e.valid=o,r.next=13;break;case 10:r.prev=10,r.t0=r.catch(2),e.errorMsg=r.t0;case 13:case"end":return r.stop()}}),r,null,[[2,10]])})))()},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(r){Object(n.a)(e,r,source[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(source,r))}))}return e}({},Object(c.c)("wallet",{walletAddress:function(e){return e.walletAddress}})),methods:{register:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,e.isSending=!0,r.next=4,e.$axios.post("/api/register",{token:e.token,address:e.walletAddress});case 4:e.isSending=!1,e.isDone=!0,r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),e.errorMsg=r.t0;case 11:case"end":return r.stop()}}),r,null,[[0,8]])})))()}}},f=v,w=t(74),component=Object(w.a)(f,(function(){var e=this,r=e._self._c;return r("div",[r("h1",[e._v("Register receiving address")]),e._v(" "),e.$fetchState.pending?r("p",[e._v("\n    Loading...\n  ")]):e.$fetchState.error?r("p",{staticClass:"error"},[e._v("\n    An error occurs...\n  ")]):e.valid?r("div",[r("p",[e._v("Register "),r("code",[e._v(e._s(e.walletAddress))]),e._v(" as your receiving address")]),e._v(" "),e.walletAddress&&!e.isDone?r("button",{staticClass:"button",on:{click:e.register}},[e._v("\n      Register\n    ")]):e._e(),e._v(" "),e.isSending?r("p",[e._v("\n      Sending...\n    ")]):e._e(),e._v(" "),e.isDone?r("p",[e._v("\n      Registered\n    ")]):e._e()]):r("p",{staticClass:"error"},[e._v("\n    Link invalid. Please use /register to generate a new one\n  ")]),e._v(" "),e.errorMsg?r("p",{staticClass:"error"},[e._v("\n    "+e._s(e.errorMsg)+"\n  ")]):e._e()])}),[],!1,null,null,null);r.default=component.exports}}]);